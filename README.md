# Chatbot Project
โค้ดนี้เขียนด้วย JavaScript (Node.js)

ใช้ CommonJS (require/module.exports) แทนที่จะเป็น ES Module (import/export)
ใช้ Discord.js สำหรับพัฒนา Discord Bot
ใช้ fs (File System) สำหรับอ่าน/เขียนไฟล์ JSON
ใช้ async/await เพื่อจัดการกับคำสั่งที่ต้องรอผลลัพธ์จาก Discord API

This is a chatbot project.

✅ เงื่อนไขการทำงานของบอท (Chatbot Logic)
บอทมีเงื่อนไขหลักในการโต้ตอบกับผู้ใช้ดังนี้

📌 1. ผู้ใช้ mention บอทครั้งแรก
🔹 ไม่มีข้อความ → บอททักทาย
✅ "สวัสดีครับ 😊 มีอะไรให้ช่วยเหรอครับ?"

🔹 มีข้อความ → บอทเรียก AI ตอบ
✅ บอทส่งข้อความไปยัง AI (ไม่ต้องอ่านประวัติแชท)

📌 2. ผู้ใช้ mention บอทซ้ำ หรือเป็น activeUser
🔹 ไม่มีข้อความ → บอทถามกลับ
✅ "ครับ 😊 ให้ช่วยอะไรครับ?"

🔹 มีข้อความ → บอทเรียก AI ตอบ
✅ อ่านเฉพาะ ประวัติของ user นั้น → ถึงข้อความ mention ล่าสุด

📌 3. ผู้ใช้เป็น activeUser แต่ไม่ได้ mention บอท
🔹 มีข้อความ → บอทเรียก AI ตอบ
✅ อ่านเฉพาะ ประวัติของ user นั้น → ถึงข้อความ mention ล่าสุด

🔹 ไม่มีข้อความ → บอทไม่ตอบ
❌ บอทจะไม่ตอบกลับข้อความเปล่า

📌 4. ผู้ใช้พิมพ์โดยไม่ mention บอท
✅ บอทไม่ตอบกลับ

📌 5. ผู้ใช้เงียบไปนานเกินเวลา
✅ ถ้าไม่มีการโต้ตอบ นานกว่า ACTIVE_TIMEOUT นาที
✅ บอทส่ง DM แจ้งเตือน
"⏳ คุณไม่ได้ตอบกลับมานานเกินไปแล้ว! หากต้องการคุยใหม่ กรุณา mention (@) บอทอีกครั้ง 😊"
✅ ลบ user ออกจาก activeUsers

📌 6. การลบข้อความ (/delete)
✅ ลบข้อความในเซิร์ฟเวอร์ → จำกัด 100 ข้อความ ต่อคำสั่ง
✅ ลบข้อความใน DM → ลบเฉพาะ ข้อความที่บอทส่ง

🛠 การทำงานของระบบเบื้องหลัง
📌 Active Users
เก็บ activeUsers ไว้ใน botConfig.json
ตรวจสอบ mention และ ข้อความ ที่ user ส่งมา
อัปเดตเวลาการใช้งานของ user
📌 ประวัติแชท (Context)
ใช้ MESSAGE_HISTORY_LIMIT ในการเก็บข้อความก่อนหน้า
อ่านเฉพาะ ข้อความของ user นั้น และ บอท
อ่าน ถึงข้อความ mention ล่าสุด เท่านั้น
📌 AI ตอบกลับ
ใช้โมเดล AI (Cohere)
ส่ง prompt พร้อม context ไปยัง AI
ใช้ค่า max_tokens, temperature เพื่อควบคุมคำตอบ
ถ้า AI ไม่ตอบ หรือเกิดข้อผิดพลาด → แจ้งเตือน
📢 สรุป

Mention ครั้งแรก → บอททักทายหรือส่งให้ AI
Mention ซ้ำ หรือ activeUser → อ่านประวัติก่อนตอบ
พิมพ์โดยไม่ mention → บอทไม่ตอบ
เงียบเกินเวลา → บอทส่ง DM แจ้งเตือน"# Chat-Bot-Discord" 
